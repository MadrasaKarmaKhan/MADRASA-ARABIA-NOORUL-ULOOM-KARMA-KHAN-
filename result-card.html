<!DOCTYPE html>
<html>
<head>
    <title>Madarsa Result Portal</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        /* Yahan wahi CSS daalein jo aapne image mein banayi hai */
        .card-container { width: 800px; margin: auto; border: 2px solid green; padding: 20px; font-family: sans-serif; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: center; }
        .header { text-align: center; color: blue; }
        .search-box { margin-bottom: 20px; text-align: center; background: #f4f4f4; padding: 20px; }
    </style>
</head>
<body>

<div class="search-box">
    <input type="text" id="rollInput" placeholder="Enter Roll Number">
    <select id="examInput">
        <option value="Yearly">Yearly</option>
        <option value="Half-Yearly">Half-Yearly</option>
    </select>
    <button onclick="fetchResult()">Search Result</button>
</div>

<div id="printArea" style="display:none;">
    <div class="card-container">
        <div class="header">
            <h2>MADARSA ARABIA NOORUL ULOOM</h2>
            <p>Karma Khan, Sant Kabir Nagar (U.P.)</p>
            <h3>Report Card (<span id="resYearly"></span>) - 2026</h3>
        </div>

        <p>Name: <b id="resName"></b> | Father: <b id="resFather"></b></p>
        <p>Class: <b id="resClass"></b> | Roll No: <b id="resRoll"></b></p>

        <table>
            <tr style="background:#ffffcc;"><th>Subject</th><th>Max</th><th>Obtained</th></tr>
            <tr><td>Quran</td><td>100</td><td id="m1"></td></tr>
            <tr><td>Hifz</td><td>100</td><td id="m2"></td></tr>
            <tr style="background:#e6f3ff;"><td>Total</td><td>1000</td><td id="resTotal"></td></tr>
        </table>
        
        <div style="margin-top:20px; text-align:center;">
            <button onclick="downloadPDF()" style="background:red; color:white;">Download PDF</button>
        </div>
    </div>
</div>

<script>
    const scriptURL = 'APNA_APPS_SCRIPT_URL_YAHAN_PASTE_KAREIN';

    function fetchResult() {
        let roll = document.getElementById('rollInput').value;
        let exam = document.getElementById('examInput').value;

        fetch(`${scriptURL}?rollNo=${roll}&examType=${exam}`)
        .then(res => res.json())
        .then(data => {
            if(data == "Not Found") { alert("Result nahi mila!"); return; }
            
            document.getElementById('printArea').style.display = 'block';
            document.getElementById('resName').innerText = data[1];
            document.getElementById('resFather').innerText = data[2];
            document.getElementById('resRoll').innerText = data[0];
            document.getElementById('m1').innerText = data[8]; // Quran
            document.getElementById('m2').innerText = data[9]; // Hifz
            document.getElementById('resTotal').innerText = data[18];
        });
    }

    function downloadPDF() {
        const element = document.getElementById('printArea');
        html2pdf().from(element).save('Result.pdf');
    }
</script>
</body>
</html>
                alert("No record found! Please check your details.");
                window.location.href = "index.html";
            }
        } catch (e) {
            console.error(e);
            alert("Error loading data. Check internet or CSV link.");
        }
    }
</script>
</body>
</html>
