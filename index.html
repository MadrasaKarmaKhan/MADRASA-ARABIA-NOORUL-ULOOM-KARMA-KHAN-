// index.html ke script section mein ye badlav karein
function getResult() {
    // Apna naya Web App URL yahan daalein
    const url = "APNA_NEW_WEB_APP_URL_YAHAN_DAALEIN";
    
    let selectedClass = document.getElementById('cls').value;
    // Agar "Class 5" select hai toh usse sirf "5" nikalne ke liye
    let classNumber = selectedClass.replace(/\D/g, ""); 

    const data = {
        studentName: document.getElementById('sName').value.toUpperCase().trim(),
        fatherName: document.getElementById('fName').value.toUpperCase().trim(),
        motherName: document.getElementById('mName').value.toUpperCase().trim(),
        rollNo: document.getElementById('roll').value.trim(),
        className: classNumber 
    };

    if(!data.studentName || !data.rollNo || !data.className) {
        alert("Sari details bharein!"); return;
    }

    fetch(`${url}?${new URLSearchParams(data).toString()}`)
    .then(res => res.json())
    .then(res => {
        if(res) {
            document.getElementById('rName').innerText = res.name;
            document.getElementById('rFather').innerText = res.father;
            document.getElementById('rMother').innerText = res.mother;
            document.getElementById('rRoll').innerText = res.rollNo;
            document.getElementById('rCls').innerText = "Class " + res.class;
            document.getElementById('rMarks').innerText = res.marks;
            document.getElementById('resultArea').style.display = 'block';
        } else {
            alert("Data match nahi hua! Spelling aur Roll No check karein.");
        }
    })
    .catch(err => alert("Server Error: Check if Web App is Deployed for 'Anyone'"));
}
